<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>SPEC-recipes｜Bar SPEC</title>

  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#c5a059">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="SPEC-recipes">
  <link rel="apple-touch-icon" href="/icon-180.png">

  <style>
    :root {
      --bg:#0e0c0a; --panel:#1c1915; --panel2:#25211e;
      --accent:#c5a059; --text:#f4f4f4; --muted:#a89984;
      --line:rgba(197,160,89,0.2); --standard:#ef4444;
      --build:#8fd19e; --shake:#82ccdd; --stir:#a29bfe;
      --todo:#ffcc00;
      --safe-top:env(safe-area-inset-top);
      --safe-bottom:env(safe-area-inset-bottom);
    }
    body {
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Noto Sans JP",sans-serif;
      background:var(--bg);
      color:var(--text);
      padding-bottom:calc(80px + var(--safe-bottom));
      line-height:1.6;
    }
    * { box-sizing:border-box; -webkit-tap-highlight-color:transparent; }

    .sticky-header-zone {
      position:sticky; top:0; z-index:1000;
      background:rgba(14,12,10,.95);
      backdrop-filter:blur(10px);
      border-bottom:1px solid var(--line);
      padding-top:var(--safe-top);
    }
    header {
      padding:10px 15px;
      height:50px;
      display:flex;
      align-items:center;
    }
    .logo {
      font-size:16px;
      font-weight:800;
      letter-spacing:2px;
      color:var(--accent);
    }

    .view-tabs {
      display:flex;
      gap:6px;
      padding:0 10px 10px;
    }
    .tab-btn {
      flex:1;
      padding:8px 0;
      text-align:center;
      background:var(--panel2);
      border:1px solid var(--line);
      color:#888;
      border-radius:6px;
      font-weight:bold;
      font-size:11px;
      cursor:pointer;
    }
    .tab-btn.active {
      background:var(--accent);
      color:#000;
      border-color:var(--accent);
    }

    .scroll-nav-container {
      overflow-x:auto;
      padding:0 10px 10px;
    }
    .nav-list {
      display:flex;
      gap:8px;
    }
    .nav-tag {
      white-space:nowrap;
      padding:6px 12px;
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:20px;
      font-size:11px;
      color:var(--accent);
      text-decoration:none;
    }

    main {
      padding:15px;
      max-width:800px;
      margin:0 auto;
    }

    .search-box { margin-bottom:20px; }
    .search-box input {
      width:100%;
      padding:12px;
      background:var(--panel);
      border:1px solid var(--accent);
      border-radius:8px;
      color:#fff;
      font-size:16px;
    }

    section { margin-bottom:40px; scroll-margin-top:160px; }

    .hidden { display:none !important; }

    /* cards */
    .recipe-item, .standard-link {
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:10px;
      margin-bottom:10px;
      text-decoration:none;
      display:block;
      overflow:hidden;
    }
    .recipe-header {
      padding:15px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      cursor:pointer;
    }
    .recipe-info b {
      display:flex;
      gap:6px;
      flex-wrap:wrap;
      font-size:15px;
    }
    .recipe-info span {
      font-size:11px;
      color:var(--muted);
    }
    .recipe-content {
      max-height:0;
      overflow:hidden;
      transition:max-height .25s ease;
    }
    .item-open .recipe-content {
      max-height:1000px;
      border-top:1px solid var(--line);
    }
    .recipe-detail {
      padding:15px;
      font-size:14px;
      color:#ddd;
    }

    .badge {
      font-size:10px;
      padding:2px 6px;
      border-radius:4px;
      font-weight:700;
      color:#000;
    }
    .badge.tag { background:var(--panel2); color:var(--muted); border:1px solid var(--line); }
    .badge.strong { background:#ef4444; color:#fff; }
    .badge.normal { background:#ffcc00; }
    .badge.weak { background:#8fd19e; }
    .badge.none { background:#a29bfe; }

    #auth-overlay {
      position:fixed;
      inset:0;
      background:var(--bg);
      z-index:9999;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      padding:20px;
    }
  </style>
</head>

<body>

<div id="auth-overlay">
  <div class="logo" style="font-size:24px;margin-bottom:20px;">SPEC-recipes</div>
  <input id="pass-input" type="password" placeholder="Password"
    style="width:80%;max-width:300px;padding:15px;background:var(--panel);
    border:1px solid var(--accent);border-radius:8px;color:#fff;font-size:18px;text-align:center;">
  <button onclick="checkAuth()"
    style="width:80%;max-width:300px;padding:12px;margin-top:15px;
    background:var(--accent);border:none;border-radius:8px;font-weight:bold;">
    ENTER
  </button>
</div>

<div class="sticky-header-zone">
  <header><div class="logo">SPEC-recipes</div></header>

  <!-- ★ 並び確定：Cocktail / Food / Theory -->
  <div class="view-tabs">
    <div class="tab-btn active" data-view="cocktail" onclick="switchView('cocktail')">Cocktail</div>
    <div class="tab-btn" data-view="food" onclick="switchView('food')">Food</div>
    <div class="tab-btn" data-view="theory" onclick="switchView('theory')">Theory</div>
  </div>

  <div id="cocktail-nav" class="scroll-nav-container">
    <div class="nav-list">
      <a href="#standard" class="nav-tag" style="color:var(--standard);border-color:var(--standard)">STANDARD</a>
      <a href="#gin" class="nav-tag">Gin</a>
      <a href="#vodka" class="nav-tag">Vodka</a>
      <a href="#rum" class="nav-tag">Rum</a>
      <a href="#tequila" class="nav-tag">Tequila</a>
      <a href="#whisky" class="nav-tag">Whisky</a>
    </div>
  </div>
</div>

<main>
  <div class="search-box">
    <input id="recipeSearch" type="text" placeholder="検索..." onkeyup="filterAll()">
  </div>

  <div id="cocktail-view">
    <div id="recipe-container"></div>
  </div>

  <div id="food-view" class="hidden">
    <p>Food contents here</p>
  </div>

  <div id="theory-view" class="hidden">
    <p>Theory contents here</p>
  </div>
</main>

<script>
const STAFF_PASS = "spec1234";

function checkAuth(){
  if(document.getElementById('pass-input').value === STAFF_PASS){
    localStorage.setItem('spec_auth','true');
    document.getElementById('auth-overlay').style.display='none';
  }
}

window.onload = () => {
  if(localStorage.getItem('spec_auth')==='true'){
    document.getElementById('auth-overlay').style.display='none';
  }
};

function switchView(view){
  ['cocktail','food','theory'].forEach(v=>{
    document.getElementById(v+'-view').classList.toggle('hidden', v!==view);
  });
  document.getElementById('cocktail-nav').style.display = (view==='cocktail')?'block':'none';
  document.querySelectorAll('.tab-btn').forEach(btn=>{
    btn.classList.toggle('active', btn.dataset.view === view);
  });
  window.scrollTo(0,0);
}

function filterAll(){
  const q = document.getElementById('recipeSearch').value.toLowerCase();
  document.querySelectorAll('.recipe-item,.standard-link').forEach(el=>{
    el.classList.toggle('hidden', !el.innerText.toLowerCase().includes(q));
  });
}
</script>

</body>
</html>
